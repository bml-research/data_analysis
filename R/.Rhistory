y = `Amount of calories` / 2 + c(0, cumsum(`Amount of calories`)[-length(`Amount of calories`)]),
label = percent(`Amount of calories` / sum(`Amount of calories`))
), size = 5)
df <- data.frame(
group = c("Male", "Female"),
value = c(15000, 10000)
)
df
#>    group value
#> 1   Male 15000
#> 2 Female 10000
ggplot(tidy_summ_data, aes(x = "", y = `Amount of calories`, fill = `Category`)) +
geom_bar(width = 1, stat = "identity") +
coord_polar("y", start = 0) +
scale_fill_brewer("Blues") +
theme_void() +
geom_text(aes(
y = `Amount of calories` / 2 + c(0, cumsum(`Amount of calories`)[-length(`Amount of calories`)]),
label = percent(`Amount of calories` / sum(`Amount of calories`))
), size = 2)
country<-c('Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana')
key<-c('Retail Margin','Wholesale Margin','BFP Component and Related Costs','Customs and Excise Tax','MVA Levy',"Fuel Tax","Petroleum Fund Levy","Road User Charge")
value<-c(0.0687,0.0577,0.7393,0.0031,0.01,0.0126,0.0141,0.0945)
data <-data.frame(country,key,value)
#Create variable
data$key2 <- paste0(data$key,' [',100*round(data$value,2),'%',']')
botswana <- ggplot(data, aes("", value, fill = key2)) +
geom_bar(stat = "identity", color = "white", size = 1) +
coord_polar(theta = "y") +
labs(colour = NULL) +
theme_void()
botswana <- botswana + theme(legend.title = element_blank())
country<-c('Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana')
key<-c('Retail Margin','Wholesale Margin','BFP Component and Related Costs','Customs and Excise Tax','MVA Levy',"Fuel Tax","Petroleum Fund Levy","Road User Charge")
value<-c(0.0687,0.0577,0.7393,0.0031,0.01,0.0126,0.0141,0.0945)
data <-data.frame(country,key,value)
#Create variable
data$key2 <- paste0(data$key,' [',100*round(data$value,2),'%',']')
botswana <- ggplot(data, aes("", value, fill = key2)) +
geom_bar(stat = "identity", color = "white", size = 1) +
coord_polar(theta = "y") +
labs(colour = NULL) +
theme_void()
botswana <- botswana + theme(legend.title = element_blank())
botswana
tidy_summ_data
tidy_summ_data$perc <- paste0(tidy_summ_data$`Amount of calories`,' [',100*round(tidy_summ_data$`Amount of calories`,2),'%',']')
tidy_summ_data$perc <- paste0(tidy_summ_data$Category,' [', 100*round(tidy_summ_data$`Amount of calories`,2),'%',']')
country<-c('Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana')
key<-c('Retail Margin','Wholesale Margin','BFP Component and Related Costs','Customs and Excise Tax','MVA Levy',"Fuel Tax","Petroleum Fund Levy","Road User Charge")
value<-c(0.0687,0.0577,0.7393,0.0031,0.01,0.0126,0.0141,0.0945)
data <-data.frame(country,key,value)
#Create variable
data$key_perc <- paste0(data$key,' [',100*round(data$value,2),'%',']')
botswana <- ggplot(data, aes("", value, fill = key2)) +
geom_bar(stat = "identity", color = "white", size = 1) +
coord_polar(theta = "y") +
labs(colour = NULL) +
theme_void()
botswana <- botswana + theme(legend.title = element_blank())
botswana
country<-c('Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana','Botswana')
key<-c('Retail Margin','Wholesale Margin','BFP Component and Related Costs','Customs and Excise Tax','MVA Levy',"Fuel Tax","Petroleum Fund Levy","Road User Charge")
value<-c(0.0687,0.0577,0.7393,0.0031,0.01,0.0126,0.0141,0.0945)
data <-data.frame(country,key,value)
#Create variable
data$key2 <- paste0(data$key,' [',100*round(data$value,2),'%',']')
botswana <- ggplot(data, aes("", value, fill = key2)) +
geom_bar(stat = "identity", color = "white", size = 1) +
coord_polar(theta = "y") +
labs(colour = NULL) +
theme_void()
botswana <- botswana + theme(legend.title = element_blank())
botswana
tidy_summ_data$perc <- paste0(tidy_summ_data$Category,' [', 100*round(tidy_summ_data$`Amount of calories`,2),'%',']')
tidy_summ_data$perc <- paste0(tidy_summ_data$Category,' [') #, 100*round(tidy_summ_data$`Amount of calories`,2),'%',']')
tidy_summ_data$relative_nums <- paste0(tidy_summ_data$Category,' [') #, 100*round(tidy_summ_data$`Amount of calories`,2),'%',']')
tidy_summ_data
#tidy_summ_data$relative_nums <- paste0(tidy_summ_data$Category,' [') #, 100*round(tidy_summ_data$`Amount of calories`,2),'%',']')
tidy_summ_data
tidy_summ_data$relative_nums <- 100*round(tidy_summ_data$`Amount of calories`,2)
tidy_summ_data
tidy_summ_data$relative_nums <- 100*round(tidy_summ_data$`Amount of calories`,2)
tidy_summ_data
tidy_summ_data$relative_nums2 <- 100*round(tidy_summ_data$`Amount of calories`,2)
tidy_summ_data
#tidy_summ_data$relative_nums <- 100*round(tidy_summ_data$`Amount of calories`,2)
tidy_summ_data <- summ_data %>%
gather(`Calories total`, `Calories from Fat`, key = "Calories origin", value = "Amount of calories")
tidy_summ_data
tidy_summ_data %>%
mutate(across(`Calories origin`, as.factor))
tidy_summ_data
#tidy_summ_data$relative_nums <- 100*round(tidy_summ_data$`Amount of calories`,2)
tidy_summ_data
tidy_summ_data$relative_nums <- tidy_summ_data$`Amount of calories`/sum(tidy_summ_data$`Amount of calories`)
tidy_summ_data
tidy_summ_data$relative_nums <- 0
tidy_summ_data
tidy_summ_data
tidy_summ_data$relative_nums <- 0
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
file_path <- "./exercises_files/Food_composition_1.csv"
df <- read_csv(file_path)
df
file_path <- "./exercises_files/Food_composition_1.csv"
df <- read_csv(file_path, sep=",")
file_path <- "./exercises_files/Food_composition_1.csv"
?read_csv
df <- read_csv(file_path, sep=",")
file_path <- "./exercises_files/Food_composition_1.csv"
df <- read_csv(file_path)
file_path <- "./exercises_files/Food_composition_1.csv"
df <- read_csv(file_path)
file_path <- "./exercises_files/Food_composition_1.csv"
df <- read_csv(file_path)
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_1.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_2.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_2.csv"
df <- read_csv2(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_2.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_3.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_3.csv"
df <- read_csv(file_path, delim="|")
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_3.csv"
df <- read_csv(file_path, delim="|")
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_3.csv"
df <- read_delim(file_path, delim="|")
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_4.csv"
df <- read_delim(file_path, delim="|")
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_4.csv"
df <- read_delim(file_path, delim="@")
df
file_path <- "./files_04_data_import_exercises/exercise02/nutrition.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise03/ingredients v1.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise03/Food and Calories - Sheet1.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise04/Food_Product_Emissions.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise05/Food_Product_Emissions.csv"
df <- read_csv(file_path)
file_path <- "./files_04_data_import_exercises/exercise05/Fglobal-meat-production.csv"
df <- read_csv(file_path)
file_path <- "./files_04_data_import_exercises/exercise05/Fglobal-meat-production.csv"
df <- read_csv(file_path)
file_path <- "./files_04_data_import_exercises/exercise05/global-meat-production.csv"
df <- read_csv(file_path)
df
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
write_csv(my_tibble, "./files_05_data_solutions/exercise06/food_emission_data.csv")
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
my_tibble
write_csv(my_tibble, "./files_05_data_solutions/exercise06/food_emission_data.csv")
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
my_tibble
write_csv(my_tibble, "./files_05_data_import/solutions/exercise06/food_emission_data.csv")
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
my_tibble
write_csv(my_tibble, "./files_05_data_import_solutions/exercise06/food_emission_data.csv")
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
write_csv(my_tibble, "./files_05_data_import_solutions/exercise06/food_emission_data.csv")
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
write_csv(my_tibble, "./files_05_data_import_solutions/exercise06/food_emission_data.csv")
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
write_csv(my_tibble, "./files_05_data_import_solutions/exercise06/food_emission_data.csv")
file_path <- "./files_04_data_import_exercises/exercise05/global-meat-production.csv"
df <- read_csv(file_path)
df
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
write_csv(my_tibble, "./files_05_data_import_solutions/exercise06/food_emission_data.csv")
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_1.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_2.csv"
df <- read_csv2(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_3.csv"
df <- read_delim(file_path, delim="|")
df
file_path <- "./files_04_data_import_exercises/exercise01/Food_composition_4.csv"
df <- read_delim(file_path, delim="@")
df
file_path <- "./files_04_data_import_exercises/exercise02/nutrition.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise03/Food and Calories - Sheet1.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise04/Food_Product_Emissions.csv"
df <- read_csv(file_path)
df
file_path <- "./files_04_data_import_exercises/exercise05/global-meat-production.csv"
df <- read_csv(file_path)
df
food_product <- c("Olive Oil", "Palm Oil", "Rapeseed Oil", "Soybean Oil", "Sunflower Oil")
processing <- c(66, 1264, 193, 311, 229)
transport <- c(482, 208, 19, 299, 201)
packaging <- c(861, 886, 844, 849, 853)
retail <- c(46, 44, 46, 43, 43)
my_tibble <- tibble(food_product, processing, transport, packaging, retail)
write_csv(my_tibble, "./files_05_data_import_solutions/exercise06/food_emission_data.csv")
file_path <- "././files_05_data_import_solutions/exercise06/food_emission_data.csv"
df <- read_csv(file_path)
df
write.xlsx(my_tibble, "./files_05_data_import_solutions/exercise07/food_emission_data.xlsx", colNames = TRUE)
write_xlsx(my_tibble, "./files_05_data_import_solutions/exercise07/food_emission_data.xlsx", colNames = TRUE)
library(openxlsx)
write.xlsx(my_tibble, "./files_05_data_import_solutions/exercise07/food_emission_data.xlsx", colNames = TRUE)
my_data <- read_excel(my_tibble, "./files_05_data_import_solutions/exercise07/food_emission_data.xlsx")
library(readxl)
my_data <- read_excel(my_tibble, "./files_05_data_import_solutions/exercise07/food_emission_data.xlsx")
library(readxl)
my_data <- read_excel("./files_05_data_import_solutions/exercise07/food_emission_data.xlsx")
my_data
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(readxl)
file_path <- "https://bml-research.github.io/data_analysis/excel/files_06_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.csv"
df <- read_excel(file_path)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.csv"
df <- read_cds(file_path)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.csv"
df <- read.csv(file_path)
df
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read.csv(file_path)
df
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_xlsx(file_path)
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df <- separate(df, "|")
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df %>% separate_wider_delim(x, delim = "|", names = c("gender", "unit"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df <- df %>% separate_wider_delim(x, delim = "|", names = c("gender", "unit"))
library(tidyverse)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df <- df %>% separate_wider_delim(x, delim = "|", names = c("gender", "unit"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
#df <- df %>% separate_wider_delim(x, delim = "|", names = c("gender", "unit"))
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
#df <- df %>% separate_wider_delim(x, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df <- df %>% separate_wider_delim(x, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
library(tidyverse)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
df <- df %>% separate_wider_delim(x, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
df %>% separate_wider_delim(x, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
df %>% separate_wider_delim(x, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
df %>% separate_wider_delim(x, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
df %>% separate_wider_delim(FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
#df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "KJ_per100grams"))
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
df
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df <- df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
df <- df %>% separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2"))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df <- df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df <- df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df <- df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2))
df
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
df2<- df %>% distinct(x, y, .keep_all = TRUE)
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
df2<- df %>% distinct(Public Food Key, .keep_all = TRUE)
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2)) %>% #Note that this is a negative selection. Selects all but the listed columns.
mutate_at(c('Cals_per100grams', 'KJ_per100grams'), as.numeric)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df <- df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2)) %>% #Note that this is a negative selection. Selects all but the listed columns.
mutate_at(c('Cals_per100grams', 'KJ_per100grams'), as.numeric)
df
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
df2<- df %>% distinct("Public Food Key", .keep_all = TRUE)
df2
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
dupplicated(df)
dupplicated(df$`Public Food Key`)
duplicated(df$`Public Food Key`)
df[duplicated(df$`Public Food Key`)]
df$`Public Food Key`[duplicated(df$`Public Food Key`)]
df$`Food Profile ID`[duplicated(df$`Food Profile ID`)]
df[df$`Public Food Key` == "F009575", ]
df[df$`Public Food Key` == "F006725", ]
my_data_cleaned <- df[!duplicated(df$`Public Food Key`), ]
my_data_cleaned
df[df$`Public Food Key` == "F006725", ]
my_data_cleaned$`Public Food Key`[duplicated(my_data_cleaned$`Public Food Key`)]
my_data_cleaned$`Food Profile ID`[duplicated(my_data_cleaned$`Food Profile ID`)]
file_path <- "./files_07_data_cleaning_exercises/exercise04/nutrition.csv"
df <- read_csv(file_path)
df
sum(is.na(df))
paste("empty cells:", sum(is.na(df)))
paste("total cells:", sum(is.na(df)))
paste("non empty cells:", sum(!is.na(df)))
paste("empty cells:", sum(is.na(df)))
paste("total cells:", 77 * 8789)
paste("non empty cells:", sum(!is.na(df)))
paste("empty cells:", sum(is.na(df)))
paste("total cells:", 8789 * 77)
paste("non empty cells:", sum(!is.na(df)))
paste("empty cells:", sum(is.na(df)))
summary(df)
table(df)
paste("total elements:", nrow(df) * ncol(df))
paste("non empty elements:", sum(!is.na(df)))
paste("empty elements:", sum(is.na(df)))
