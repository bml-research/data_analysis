select (-c(waste, waste2))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2))
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df <- df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2))
df
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
df2<- df %>% distinct(x, y, .keep_all = TRUE)
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
df2<- df %>% distinct(Public Food Key, .keep_all = TRUE)
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2)) %>% #Note that this is a negative selection. Selects all but the listed columns.
mutate_at(c('Cals_per100grams', 'KJ_per100grams'), as.numeric)
library(readxl)
file_path <- "./files_07_data_cleaning_exercises/exercise01/calories.xlsx"
df <- read_excel(file_path)
colname <- "FoodCategory|FoodItem|per100grams|Cals_per100grams|KJ_per100grams"
df <- df %>% separate_wider_delim(colname, delim = "|", names = c("FoodCategory", "FoodItem", "per100grams", "Cals_per100grams", "KJ_per100grams"))
df
df <- df %>%
separate_wider_delim(Cals_per100grams, delim = " ", names = c("Cals_per100grams", "waste")) %>%
separate_wider_delim(KJ_per100grams, delim = " ", names = c("KJ_per100grams", "waste2")) %>%
select (-c(waste, waste2)) %>% #Note that this is a negative selection. Selects all but the listed columns.
mutate_at(c('Cals_per100grams', 'KJ_per100grams'), as.numeric)
df
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
df2<- df %>% distinct("Public Food Key", .keep_all = TRUE)
df2
file_path <- "./files_07_data_cleaning_exercises/exercise03/Food Composition_mod.csv"
df <- read_csv(file_path)
df
dupplicated(df)
dupplicated(df$`Public Food Key`)
duplicated(df$`Public Food Key`)
df[duplicated(df$`Public Food Key`)]
df$`Public Food Key`[duplicated(df$`Public Food Key`)]
df$`Food Profile ID`[duplicated(df$`Food Profile ID`)]
df[df$`Public Food Key` == "F009575", ]
df[df$`Public Food Key` == "F006725", ]
my_data_cleaned <- df[!duplicated(df$`Public Food Key`), ]
my_data_cleaned
df[df$`Public Food Key` == "F006725", ]
my_data_cleaned$`Public Food Key`[duplicated(my_data_cleaned$`Public Food Key`)]
my_data_cleaned$`Food Profile ID`[duplicated(my_data_cleaned$`Food Profile ID`)]
file_path <- "./files_07_data_cleaning_exercises/exercise04/nutrition.csv"
df <- read_csv(file_path)
df
sum(is.na(df))
paste("empty cells:", sum(is.na(df)))
paste("total cells:", sum(is.na(df)))
paste("non empty cells:", sum(!is.na(df)))
paste("empty cells:", sum(is.na(df)))
paste("total cells:", 77 * 8789)
paste("non empty cells:", sum(!is.na(df)))
paste("empty cells:", sum(is.na(df)))
paste("total cells:", 8789 * 77)
paste("non empty cells:", sum(!is.na(df)))
paste("empty cells:", sum(is.na(df)))
summary(df)
table(df)
paste("total elements:", nrow(df) * ncol(df))
paste("non empty elements:", sum(!is.na(df)))
paste("empty elements:", sum(is.na(df)))
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
read_csv(file_path)
library(tidyverse)
read_csv(file_path)
file_path <- "./files_10_data_analysis_exercises/exercise01/menu.csv"
read_csv(file_path)
file_path <- "./files_10_data_analysis_exercises/exercise01/menu.csv"
read_csv(file_path)
file_path <- "./files_10_data_analysis_exercises/exercise01/menu.csv"
df <- read_csv(file_path)
file_path <- "./files_10_data_analysis_exercises/exercise01/menu.csv"
df <- read_csv(file_path)
file_path <- "./files_10_data_analysis_exercises/exercise01/menu.csv"
df <- read_csv(file_path)
df
file_path <- "./files_10_data_analysis_exercises/exercise01/menu.csv"
df <- read_csv(file_path)
head(df)
summarize(df$Calories)
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
min_cal
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
min_cal
max_cal
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
min_cal
max_cal
mean_cal
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
min_cal
max_cal
mean_cal
median_cal
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
results_ex1 <- tibble("measure" = c("minimum", "maximum", "mean", "median"), "calories" = c(min_cal, max_cal, mean_cal, median_cal))
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
results_ex1 <- tibble("measure" = c("minimum", "maximum", "mean", "median"), "calories" = c(min_cal, max_cal, mean_cal, median_cal))
results_ex1
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
results_ex1 <- tibble("measure" = c("minimum", "maximum", "mean", "median"),
"calories" = c(min_cal, max_cal, mean_cal, median_cal),
"calories from fat" = c(min_fat, max_fat, mean_fat, median_fat)
)
results_ex1
summarise(df$Calories)
summary(df$Calories)
summary(df$`Calories from Fat`)
summary(df$Calories)
summary(df$`Calories from Fat`)
paste("summary data calories", summary(df$Calories))
summary(df$`Calories from Fat`)
paste0("summary data calories", summary(df$Calories))
summary(df$`Calories from Fat`)
"calories"
summary(df$Calories))
"calories"
summary(df$Calories)
"calories from fat"
summary(df$`Calories from Fat`)
"Summary data calories"
summary(df$Calories)
"Summary data calories from fat"
summary(df$`Calories from Fat`)
df[df$`Calories from Fat` == max(df$`Calories from Fat`), ]
df[df$`Iron (% Daily Value)` == max(df$`Iron (% Daily Value)`), ]
df[df$`Calories from Fat` == min(df$`Calories from Fat`), ]
df[df$Category == "Coffee & Tea", ]
df[df$Category == "Coffee & Tea", ] %>%
df[df$`Calories from Fat` == min(df$`Calories from Fat`), ]
df[df$Category == "Coffee & Tea", ] %>%
`Calories from Fat` == min(`Calories from Fat`
filter(df, `Calories from Fat` == max(`Calories from Fat`)
filter(df, max(`Calories from Fat`)
filter(df, `Calories from Fat` == 1060)
filter(df, `Calories from Fat` == max(df$`Calories from Fat`))
filter(df, `Iron (% Daily Value)`` == max(df$`Iron (% Daily Value)`))
filter(df, `Iron (% Daily Value)` == max(df$`Iron (% Daily Value)`))
df %>%
group_by(Category)
df %>%
filter(Category == `Beef & Pork`)
df %>%
filter(Item == `Beef & Pork`)
df
df %>%
filter(Item == `Beef & Pork`)
df %>%
filter(Category == df$`Beef & Pork`)
df %>%
filter(Category == df$`Beef & Pork`)
df %>%
filter(Category == `Beef & Pork`)
filter(df, Category == `Beef & Pork`)
filter(df, Category == df$`Beef & Pork`)
filter(df, `Category` == `Beef & Pork`)
filter(df, `Category` == "Beef & Pork")
df %>%
filter(`Category` == "Beef & Pork")
df %>%
filter(`Category` == "Beef & Pork")
filter(`Calories from Fat` == min(df$`Calories from Fat`))
df %>%
filter(`Category` == "Beef & Pork")
filter(df$`Calories from Fat` == min(df$`Calories from Fat`))
df %>%
filter(`Category` == "Beef & Pork") %>%
filter(df$`Calories from Fat` == min(df$`Calories from Fat`))
df %>%
filter(`Category` == "Beef & Pork") %>%
filter(`Calories from Fat` == min(`Calories from Fat`)
filter(df, `Calories from fat` == min(df$`Calories from Fat`))
filter(df, `Calories from Fat` == min(df$`Calories from Fat`))
df %>%
filter(`Category` == "Beef & Pork" & `Calories from Fat` == min(df$`Calories from Fat`))
df %>%
#filter(`Category` == "Beef & Pork" & `Calories from Fat` == min(df$`Calories from Fat`))
filter(`Category` == "Beef & Pork")
df %>%
filter(`Category` == "Beef & Pork", `Calories from Fat` == min(df$`Calories from Fat`))
filter(`Category` == "Beef & Pork")
df %>%
filter(`Category` == "Beef & Pork" && `Calories from Fat` == min(df$`Calories from Fat`))
df %>%
filter(`Category` == "Beef & Pork") %>%
`Calories from Fat` == max(`Calories from Fat`)
df %>%
filter(`Category` == "Beef & Pork") %>%
df$`Calories from Fat` == max(df$`Calories from Fat`)
df %>%
filter(`Category` == "Beef & Pork")
df %>%
filter(`Category` == "Beef & Pork" & `Iron (% Daily Value)` == max(df$`Iron (% Daily Value)`)
df %>%
filter(`Category` == "Beef & Pork" & `Iron (% Daily Value)` == max(df$`Iron (% Daily Value)`))
df %>%
group_by(`Category`)
df %>%
group_by(`Category`, `Calories from Fat`)
df %>%
group_by(`Calories from Fat`, `Category`)
df %>%
group_by(`Category`, `Calories from Fat`)
df %>%
group_by(`Category`, `Calories from Fat`)
slice(which.max(`Calories from Fat`))
df %>%
group_by(`Category`, `Calories from Fat`)
slice(which.max("Calories from Fat"))
df %>%
group_by(`Category`, `Calories from Fat`) %>%
slice(which.max(`Calories from Fat`))
df %>%
group_by(`Category`, `Calories from Fat`) %>%
slice(which.min(`Calories from Fat`))
df %>%
filter(`Category` == "Beef % Pork") %>%
slice(which.min(`Calories from Fat`))
df %>%
filter(`Category` == "Beef % Pork") %>%
slice(which.min(df$`Calories from Fat`))
df %>%
filter(`Category` == "Beef % Pork") %>%
df[df$`Calories from Fat`) == min(df$`Calories from Fat`), ]
df %>%
filter(`Category` == "Beef % Pork") %>%
df[df$`Calories from Fat` == min(df$`Calories from Fat`), ]
df %>%
filter(`Category` == "Beef % Pork") %>%
[`Calories from Fat` == min(`Calories from Fat`), ]
df %>%
filter(`Category` == "Beef % Pork") %>%
df %>%
filter(`Category` == "Beef % Pork") %>%
summarise(min = min(`Calories from Fat`, na.rm=TRUE))
df %>%
filter(`Category` == "Beef % Pork") %>%
summarise(min = min(`Calories from Fat`))
df %>%
filter(`Category` == "Beef % Pork") %>%
filter(`Calories from Fat` == max(`Calories from Fat`))
df
df %>%
group_by(`Category`, `Calories from Fat`)
df %>%
group_by(`Category`, `Calories from Fat`) %>%
filter(`Calories from Fat` == max(`Calories from Fat`, na.rm=TRUE))
df %>% arrange(Category, `Calories from Fat`)
df %>%
arrange(Category, `Calories from Fat`) %>%
filter(Category == "Beef & Pork")
df %>%
arrange(Category, `Calories from Fat`) %>%
filter(Category == "Beef & Pork") %>%
slice_min(1)
df %>%
arrange(Category, `Calories from Fat`) %>%
filter(Category == "Beef & Pork") %>%
slice_min(x, 1)
df %>%
arrange(Category, `Calories from Fat`) %>%
filter(Category == "Beef & Pork") %>%
slice_min(x, n=1)
df %>%
arrange(Category, `Calories from Fat`) %>%
filter(Category == "Beef & Pork") %>%
slice(1:1)
df %>%
arrange(Category, `Carbohydrates`) %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") %>%
slice(1:1)
df %>%
arrange(Category, -`Carbohydrates`) %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") %>%
slice(1:1)
df %>%
arrange(Category, -`Carbohydrates`) %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") #%>%
#slice(1:1)
df %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") %>%
arrange(Category, -`Carbohydrates`) %>%
#slice(1:1)
df %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") %>%
arrange(Category, -`Carbohydrates`) #%>%
#slice(1:1)
df %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") %>%
arrange(-`Carbohydrates`) #%>%
#slice(1:1)
df %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") %>%
arrange(-`Carbohydrates`) %>%
slice(1:1)
df %>%
arrange(`Carbohydrates`, -`Saturated Fat`) %>%
slice(1:1)
df %>%
arrange(`Carbohydrates`, -`Saturated Fat`) #%>%
#slice(1:1)
df %>%
arrange(-`Carbohydrates`, `Saturated Fat`) #%>%
#slice(1:1)
df %>%
arrange(-`Saturated Fat`) #%>%
#slice(1:1)
df %>%
arrange(-`Saturated Fat`, `Carbohydrates`) #%>%
#slice(1:1)
df %>%
arrange(-`Saturated Fat`, `Carbohydrates`) %>%
slice(1:1)
df %>%
arrange(-`Saturated Fat`) #%>%
#slice(1:1)
df %>%
filter(Category == "Coffee & Tea") #%>%
#slice(1:1)
df
file_path <- "./files_10_data_analysis_exercises/exercise01/menu.csv"
df <- read_csv(file_path)
head(df)
min_cal <- min(df$Calories)
max_cal <- max(df$Calories)
mean_cal <- mean(df$Calories)
median_cal <- median(df$Calories)
min_fat <- min(df$`Calories from Fat`)
max_fat <- max(df$`Calories from Fat`)
mean_fat <- mean(df$`Calories from Fat`)
median_fat <- median(df$`Calories from Fat`)
results_ex1 <- tibble("measure" = c("minimum", "maximum", "mean", "median"),
"calories" = c(min_cal, max_cal, mean_cal, median_cal),
"calories from fat" = c(min_fat, max_fat, mean_fat, median_fat)
)
results_ex1
"Summary data calories"
summary(df$Calories)
"Summary data calories from fat"
summary(df$`Calories from Fat`)
df[df$`Calories from Fat` == max(df$`Calories from Fat`), ]
filter(df, `Calories from Fat` == max(df$`Calories from Fat`))
df[df$`Iron (% Daily Value)` == max(df$`Iron (% Daily Value)`), ]
df %>%
arrange(Category, `Calories from Fat`) %>%
filter(Category == "Beef & Pork") %>%
slice(1:1)
df %>%
filter(Category == "Coffee & Tea" | Category == "Smoothies & Shakes") %>%
arrange(-`Carbohydrates`) %>%
slice(1:1)
df %>%
arrange(-`Saturated Fat`) #%>%
#slice(1:1)
df %>%
arrange(-`Saturated Fat`, `Carbohydrates`) %>%
slice(1:1)
df[df$Calories > 600, ]
nrows(df[df$Calories > 600, ])
nrow(df[df$Calories > 600, ])
nrow(df[df$Calories > 300 & df$Calories < 600, ])
df
df[str_detect(df$`Serving Size`, "fl oz cup"), ]
nrow(df[str_detect(df$`Serving Size`, "fl oz cup"), ])
df %>%
filter(Calories > 600)
df %>%
group_by(Item) %>%
filter(n()>1)
df %>%
filter(`Vitamin A (% Daily Value)` < 20 & `Vitamin C (% Daily Value)` < 20)
df %>%
filter(`Vitamin A (% Daily Value)` >= 20 & `Vitamin C (% Daily Value)` >= 20)
df %>%
group_by(Category) %>%
summary(`Total Fat (% Daily Value)`)
df %>%
group_by(Category) %>%
mean(`Total Fat (% Daily Value)`)
df %>%
group_by(Category) %>%
summary(`Total Fat (% Daily Value)`)
df %>%
group_by(Category) %>%
summarize(`Total Fat (% Daily Value)`)
df %>%
group_by(Category, `Total Fat (% Daily Value)`) %>%
summarize(`Total Fat (% Daily Value)`)
df %>%
group_by(Category) %>%
summarize(`Calories`)
df %>%
group_by(Category) %>%
summarize("Mean Calories" = mean(`Calories`))
df %>%
group_by(Category) %>%
summarize("Mean Calories" = mean(`Total Fat (% Daily Value)`),
)
df %>%
group_by(Category) %>%
summarize("Mean Total Fat (% Daily Value)" = mean(`Total Fat (% Daily Value)`),
"Mean Saturated Fat (% Daily Value) " = mean(`Saturated Fat (% Daily Value)`),
)
df %>%
group_by(Category) %>%
summarize("Mean Total Fat (% Daily Value)" = mean(`Total Fat (% Daily Value)`),
"Mean Saturated Fat (% Daily Value)" = mean(`Saturated Fat (% Daily Value)`),
"Mean Cholesterol (% Daily Value)" = mean(`Cholesterol (% Daily Value)`)
)
df %>%
group_by(Category) %>%
summarize("Mean Total Fat (% Daily Value)" = round(mean(`Total Fat (% Daily Value)`), 0),
"Mean Saturated Fat (% Daily Value)" = mean(`Saturated Fat (% Daily Value)`),
"Mean Cholesterol (% Daily Value)" = mean(`Cholesterol (% Daily Value)`)
)
df %>%
group_by(Category) %>%
summarize("Mean Total Fat (% Daily Value)" = round(mean(`Total Fat (% Daily Value)`), 0),
"Mean Saturated Fat (% Daily Value)" = round(mean(`Saturated Fat (% Daily Value)`), 0),
"Mean Cholesterol (% Daily Value)" = mean(`Cholesterol (% Daily Value)`)
)
df %>%
group_by(Category) %>%
summarize("Mean Total Fat (% Daily Value)" = round(mean(`Total Fat (% Daily Value)`), 0),
"Mean Saturated Fat (% Daily Value)" = round(mean(`Saturated Fat (% Daily Value)`), 0),
"Mean Cholesterol (% Daily Value)" = round(mean(`Cholesterol (% Daily Value)`, 0)
)
df %>%
group_by(Category) %>%
summarize("Mean Total Fat (% Daily Value)" = round(mean(`Total Fat (% Daily Value)`), 0),
"Mean Saturated Fat (% Daily Value)" = round(mean(`Saturated Fat (% Daily Value)`), 0),
"Mean Cholesterol (% Daily Value)" = round(mean(`Cholesterol (% Daily Value)`), 0)
)
df %>%
group_by(Category) %>%
summarize("Mean Total Fat (% Daily Value)" = round(mean(`Total Fat (% Daily Value)`), 1),
"Mean Saturated Fat (% Daily Value)" = round(mean(`Saturated Fat (% Daily Value)`), 1),
"Mean Cholesterol (% Daily Value)" = round(mean(`Cholesterol (% Daily Value)`), 1)
)
